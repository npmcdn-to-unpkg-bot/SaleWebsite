define(["jquery","breakpoints","contactUs","ajaxConfig","formEndpointValidation","handlebars","datePickerModule"],function(e,t,n,r,i,s,o){function E(){e("body").on("submit",l+", "+h,function(){w=e(this)}).on("keyup",a+" .email-us-text-area",function(){n.handleTextAreaLimit(e(this).event,e(this))}).on("click",a+" .edit-info-link",k).on("click touchstart",a+" .overlay-close",L).on("change",".contact-us-subject-input",S),m||e("body").on("change",".contact-form-subject select",S)}function S(){var t=e(this),n=e(this).closest(".row").find(".contact-form-order-number");t.val().indexOf("order-number")>=0?n.show():n.hide()}function x(t){var n=e(t.currentTarget),r=n.closest(u).find("."+n.data("content")),s=n.closest(f);if(m){var o=e(l,r),a=e(h,r);s.fadeOut(),r.delay("400").fadeIn();if(o.attr("action")===""){var g;o.prop("action",c).addClass(d),g=i.newInstance(o,N,N),e("#client-services-overlay").on("overlay.close",function(){e(".client-services-tools-link").trigger("click"),g.clearErrorMessages()})}if(a.attr("action")===""){var y;a.prop("action",p).addClass(d),y=i.newInstance(a,C,C),e("#client-services-overlay").on("overlay.close",function(){e(".client-services-tools-link").trigger("click"),y.clearErrorMessages()})}}else{var b=e(l,v),w=e(h,v);b.length&&!b.hasClass(d)&&(b.prop("action",c).addClass(d),i.newInstance(b,N,N)),w.length&&!w.hasClass(d)&&(w.prop("action",p).addClass(d),i.newInstance(w,C,C)),A(t)}t.preventDefault()}function T(t){var n=e(t.currentTarget),r=n.closest(u).find(f),i=n.closest(".client-services-sections");i.fadeOut(),r.delay("400").fadeIn(),t.preventDefault()}function N(n){switch(n.status){case"ok":e.event.trigger({type:"formOk",form:this.$form});var r=this.$form.parents(".client-services-schedule-callback");e(".schedule-callback-form",r).fadeOut({done:function(){if(t.is("small")||t.is("medium")){var i=s.compile(g);w.find(".client-services-confirmation-button").trigger("click"),e(v).find(".confirmation-data-container").html(i(n.data)),w.css("display","block")}else{var i=s.compile(g);e(".confirmation-data-container",r).html(i(n.data)),e(".client-services-tools-wrapper",r).css("display","none"),e(".callback-confirmation-container",r).fadeIn()}}});break;case"validationError":return!1}}function C(n){switch(n.status){case"ok":e.event.trigger({type:"formOk",form:this.$form});var r=this.$form.parents(".client-services-email-us");e(".email-us-form",r).fadeOut({done:function(){var i=s.compile(y);e(".confirmation-data-container",r).html(i(n.data)),t.is("small")||t.is("medium")?(w.find(".client-services-confirmation-button").trigger("click"),e(v).find(".confirmation-data-container").html(i(n.data)),w.css("display","block")):(e(".client-services-tools-wrapper",r).css("display","none"),e(".email-us-confirmation-container",r).fadeIn(),e(".client-services-email-us",r).css("display","block"))}});break;case"validationError":return!1}}function k(){e(".header-nav-back").trigger("click")}function L(){e("body").hasClass("_header-nav-is-open")&&e(".header-nav-child-assitance").hasClass("_active")&&e(".header-nav-parent-main").trigger("click"),e("#client-services-overlay").hasClass("_active")&&e("#client-services-overlay").find(".overlay-close").trigger("click")}function A(e){b&&(b=!1,E(),t.change(L),typeof e!="undefined"&&e.type!=="overlay"&&o.init())}function O(){m=t.is("standard")||t.is("large"),m&&(e('[data-module*="contactUs"]').length===0&&n.load(),e("#client-services-overlay").on("overlay.open",A))}var u=".client-services-container",a=".header-nav-child-assitance",f=".client-services-items",l=".schedule-callback-form",c=r.getRemoteService("CALL-BACK-ENDPOINT"),h=".email-us-form",p=r.getRemoteService("EMAIL-US-ENDPOINT"),d="_loaded",v=".header-nav-drawer._active-current",m=!1,g=e("#contact-us-shedule-call-confirmation").html(),y=e("#contact-us-email-us-confirmation").html(),b=!0,w;return{load:function(){O(),t.change(function(){m=t.is("standard")||t.is("large")}),e("body").on("click",".client-services-link",x).on("click",".client-services-tools-link",T)}}});
