define(["jquery","overlay","formEndpointValidation","ajaxConfig","ajaxLoader"],function(e,t,n,r,i){function d(){t.nextSlideOverlay(),f.val(e(o).val())}function v(e){e.status==="recognized"&&d()}function m(e){e.status==="ok"&&(b(),E())}function g(){h.val(""),t.prevSlideOverlay()}function y(t){var n=e(this);n.toggleClass(u),e("#subscribeMailing").val(n.is("._active")?"true":"false"),t.preventDefault()}function b(){t.close(s)}function w(){hybris.fav.createAccountCB()}function E(){var t="header-my-account-menu";i.loadJson(t,"header-nav-sign-in-group",e(this),"header-nav-sign-in-group"),window.location=hybris.contextPath+"/my-account",e(".header-nav-back").removeClass("nav-back-white"),e(".header-nav-drawer.header-nav-drawer-child").removeClass("drawer-white")}function S(){c.on("click",y),p.on("click",x),l.on("click",g);var t=e("#create-account-form",s);n.newInstance(t,w,v);var r=e("#recognized-email-form",s);r.prop("action",a),n.newInstance(r,w,m)}function x(n){var r=e(this).attr("href");b(),t.open(r),T(n)}function T(e){e&&e.preventDefault&&e.preventDefault()}var s=".form-create-account",o=".create-account-input-mail",u="_active",a=r.getRemoteService("RECOGNIZED-EMAIL-ENDPOINT"),f=e(".input-recognized-email-mail"),l=e(".overlay-other-account-link"),c=e(".create-account-form").find(".initials-checkbox"),h=e('.create-account-form input[type="password"], .create-account-form input[type="text"]'),p=e(".overlay-recover-password",e(".overlay-recover-message-line"));return{load:function(){S()}}});
