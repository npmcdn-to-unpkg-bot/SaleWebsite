define(["jquery","viewport","validatorForm","breakpoints","tooltip","ajaxConfig","formEndpointValidation"],function(e,t,n,r,i,s,o){function p(){h.on("focus",y),h.on("blur",g),e(a).on("click touchstart",b),d()}function d(){if(e("html").hasClass("mobile")&&e(".unaccepted-order-message .contactus-phone").length!==0){var t=e(".unaccepted-order-message"),n=e(".contactus-phone"),r=n.html();t.addClass("button"),e(".contactus-phone").html('<a href="tel:'+r+'">'+r+"</a>")}}function v(e){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}function m(e){var t=/^[0-9]+$/;return t.test(e)}function g(){var t=e(this),n=!r.is("small"),s=t.hasClass("error-input");s&&n&&i.close("#"+t.data("tooltip"))}function y(){var t=e(this),n=!r.is("small"),s=t.hasClass("error-input"),o=e("html").hasClass("iOS"),u;s&&n&&(u=t.parent().find("#"+t.data("tooltip")),u.find(".tooltip-message").html()===""&&u.find(".tooltip-message").html(t.data("tooltip-message")),i.open("#"+t.data("tooltip"))),s&&o&&e("header").css({position:"absolute"})}function b(t){var n=e(u),i=e(":input:visible",n),s,o,a,f=!0,l=r.is("small");return w(t),e(".error-message").hide(),i.each(function(){s=e(this),o=e(".error-message",s.parent());if(typeof s.attr("required")!="undefined"&&this.value.length<1){s.addClass("error-input"),l&&(typeof s.data("message")!="undefined"?(a=s.data("message"),o.text(a).show()):o.text("This field is required").show()),f=!1;return}switch(this.type){case"email":if(!v(this.value)){s.addClass("error-input"),l&&o.text("This field is not a valid email").show(),f=!1;return}break;case"tel":if(!m(this.value)||this.value.length<10){s.addClass("error-input"),l&&o.text("This field is not a valid phone").show(),f=!1;return}}}),f&&c.submit(),!1}function w(e){e&&e.preventDefault&&e.preventDefault()}function E(){e(f).fadeIn(500),e(u).fadeOut(600),t.scrollTo(u,"#header-main",2e3)}var u=".unaccepted-order form",a="button.button-unaccepted-order",f=".unaccepted-order-thank-message",l=s.getRemoteService("UNACCEPTED-ORDER"),c=e(u),h=e(u+" :input").filter('[required="required"]');return{load:function(){c.prop("action",l),o.newInstance(c,E),p()}}});
