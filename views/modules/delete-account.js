define(["jquery","overlay","formEndpointValidation","ajaxConfig"],function(e,t,n,r){function d(){window.location.href=hybris.contextPath+"/st/account-deleted"}function v(){e(c).hasClass("last")?e(s).show():e(s).hide(),e(a).val(""),e(a).keydown()}function m(){this.value==="5"?e(s,p).show():e(s,p).hide(),this.value==="0"?e(f,p).addClass("gold"):e(f,p).removeClass("gold"),e(a,p).val(""),e(a,p).keydown()}function g(){e(a,p).val(""),e(f,p).val(l),e(o,p).selectric("refresh"),e(s,p).hide(),e(f,p).addClass("gold")}function y(){var t=e(u,p);e(a,p).limiter(200,t)}function b(){e(o,p).selectric({onChange:function(){v()}}),t.onClose(g),e(a,p).keydown(y),e(p).on("change",f,m),p.prop("action",h),n.newInstance(p,d)}var i=".delete-account-form",s=".delete-account-other-reason",o=".delete-account-reason",u=".delete-account-characters-left-number",a=".delete-account-other-reason textarea",f="select.delete-account-reason",l="0",c=".selectric-delete-account-reason .selectricScroll li.selected",h=r.getRemoteService("DELETE-ACCOUNT-ENDPOINT"),p=e(i);return function(e){e.fn.extend({limiter:function(t,n){function r(e,n){var r=e.value.length;r>t&&(e.value=e.value.substr(0,t),r=t),n.html(t-r)}e(this).on("input",function(){r(this,n)}),r(e(this)[0],n)}})}(e),{load:function(){b()}}});
