define(["jquery","overlay","formEndpointValidation","ajaxConfig","ajaxLoader"],function(e,t,n,r,i){function l(){e(o).on("click",d),f.prop("action",a),n.newInstance(f,c)}function c(e){e.status==="ok"&&(h(),p())}function h(){t.close(u)}function p(){var n="header-my-account-menu";i.loadJson(n,"header-nav-sign-in-group",e(this),"header-nav-sign-in-group"),t.close(u),hybris.fav.signInCB(),e(".header-nav-back").removeClass("nav-back-white"),e(".header-nav-drawer.header-nav-drawer-child").removeClass("drawer-white")}function d(n){var r=e(this).attr("href");v(),t.close(u),t.open(r),m(n)}function v(){e(".global-error-message").html(""),e("#email-error").html(""),e(".forgot-password-email").removeClass("error")}function m(e){e&&e.preventDefault&&e.preventDefault()}var s="#loginForm1",o=".recover-password",u="#sign-in-overlay",a=r.getRemoteService("SIGN-IN-ENDPOINT"),f=e(s,".sign-in-overlay-body");return{load:function(){l()}}});
