define(["jquery","shopTheLook","breakpoints","slickCarousel","slick"],function(e,t,n){function l(t,r,i,o){var u=e(".view-360-image[data-src]"),a=e(".shop-the-look-header").find(".slick-slide:not(.slick-cloned)").length;f=i===o-1||i===a-1&&o===0?!0:!1,e(window).off("resize.zoom"),e("body").off("click.productzoom",".zoom-in"),e("#imageFullScreen").smartZoom("destroy"),u.unbind(".reel"),u.off("reel"),u.unreel(),e(".stl-header-arrow-left, .stl-header-arrow-right").off("beforeChange, afterChange"),e(".reel-cache").remove(),e(".shop-the-look-carousel-available .carousel-inner").each(function(){var t=e(this);t.hasClass("slick-initialized")&&t.slick("unslick")}),h(o),i!==o&&!n.is("small")&&e(".slick-slide",s).fadeOut(300,function(){e(this).fadeIn(200)})}function c(n,o,l){var c=e(r,s).find("[data-slick-index="+l+"]").data("lookid").toString();u=t.servicesIsLoaded(),u&&l!==a&&(a=l,t.getCurrentLook(i,c,f),p())}function h(t){var n=e(r,s).find("[data-slick-index="+t+"]").data("name");o.html(n)}function p(){e(r,s).on("beforeChange",l),e(r,s).on("afterChange",c)}var r=".carousel-inner",i="SHOP-THE-LOOK",s=e(".main-carousel-shop-the-look"),o=e(".id-look-current"),u,a,f=!1;return{load:function(){p(),h(s.find(".slick-active").data("slick-index")),t.loadServices(i,s.find(".slick-active").data("lookid"))}}});
