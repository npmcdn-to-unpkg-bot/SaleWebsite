define(["jquery","viewport","breakpoints","slickCarousel","slick","handlebars"],function(e,t,n,r,i,s){function y(){m=e(o),g=m.find(u),g.each(b),g.addClass(a);var t=E(g).filter(u+"-default"),n=t.filter("."+f),r=t.filter("."+l);S(n),x(r)}function b(){w(e(this)).attr("style","")}function w(e){return e.find(".accordion-drawer")}function E(t){for(var r in v)if(n.is(r))return r==="standard"&&e("html").hasClass("tablet")&&e("body").hasClass("print")?t.filter(u+"-medium"):t.filter(u+"-"+r);return t}function S(t){t.each(function(){T(e(this),l,f,"show")})}function x(t){t.each(function(){T(e(this),f,l,"hide")})}function T(e,t,n,r,i){e.removeClass(t).addClass(n),w(e).stop()[r](i)}function N(t){var n=e(this),i=n.parents(u),s=w(i),o=s.find('[data-module="slickCarousel"]');if(E(i).length){var a=i.hasClass(l),f=i.hasClass(p);a?k(i):f&&C(i)}o.length>0&&o.each(function(){var t=e(this);r.reposition(t)}),L(t)}function C(e){w(e).stop(),T(e,f,l,"slideUp",d)}function k(t){var n=t.hasClass(p);if(n){var r=t.parents(o),i=r.find("."+p+"."+f);r.hasClass("accordion-non-auto-closing")||C(i)}var u=t.attr("data-order-detail-ajax");typeof u!="undefined"?e.get(hybris.contextPath+u,function(n){var r=t.attr("data-gift-message");r&&n.giftwrapDetail&&(n.giftwrapDetail.message=r);var i=e("script#order-history-detail").html(),o=s.compile(i),u=o(n);e(".rows-wrapper",t).html(u),T(t,l,f,"slideDown",d),t.removeAttr("data-order-detail-ajax")}):T(t,l,f,"slideDown",d)}function L(e){e&&e.preventDefault&&e.preventDefault()}var o=".accordion-wrapper",u=".accordion-item",a="_ready",f="_open",l="_close",c="accordion-button",h="."+c,p="accordion-item-mutually-exclusive",d=500,v={standard:!0,medium:!0,small:!0},m=e(o),g=e();return{load:function(){y(),g.find(h).on("click",N),n.change(y)}}});
