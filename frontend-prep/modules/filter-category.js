define(["jquery","select","os","loader","breakpoints"],function(e,t,n,r,i){function m(){c.selectric({disableOnMobile:!1,openOnHover:function(){var t=e("option",c);return t.length<2?!1:v?!1:!0}(),preventWindowScroll:i.is("small")||i.is("medium")?!1:!0,onInit:function(){var t=e("option",this);if(t.length<3)var n=e(this).attr("disabled","disabled").parents(".selectricWrapper").addClass("selectricDisabled");var r=e(".category-item").find(".selectricItems .selected").html(),s=e(".category-item").find(".selectricItems .selected .category-item-title").html(),o=p.find(".selectricItems");o.height()>=300&&o.addClass("category-filter-scrollable"),h.find(".category-item-title").html(e.trim(s)),e(".category-item").find(".selectric .label").html(r),i.is("small")&&(e(".category-item").find(".selectric .button").addClass("filter-close-button"),o.height()>=340&&o.addClass("category-filter-scrollable"))},onOpen:function(t){e(t).parents(s).first().addClass(o),p.addClass(f),p.parent().addClass(l),h.addClass(f),e(".filter-attributes-sort").removeClass("_open"),e(".filter-expander").removeClass("_active"),p.find(".selectricScroll")},onClose:function(t){var n=e(".category-item").find(".selectricItems .selected").html();e(t).parents(s).first().removeClass(o),p.removeClass(f),p.parent().removeClass(l),h.removeClass(f),e(".category-item").find(".selectric .label").html(n),e("body").removeClass("overlay-lock")},optionsItemBuilder:function(e,t){return t.val().length?'<span class="category-item-title"><span class="category-item-title-text">'+e.text+"</span></span>"+'<span class="category-item-header">'+t.data("header")+"</span>"+' <span class="category-item-value">('+t.data("value")+")</span>":e.text}}),n.supportsTouch()&&E()}function g(){c.change(function(){var t=e(this),n=e(".category-item").find(".selectricItems .selected .category-item-title").html();w(t),h.find(".category-item-title").html(e.trim(n))})}function y(){i.is("small")&&e(".category-item").find(".selectricScroll li").click(function(){c.selectric("open")})}function b(){d.click(function(){c.selectric("_close")})}function w(e){var t=e.val();r.loadUrl(t,u,e,a)}function E(){e(".selectricInput").prop("readonly",!0)}var s=".custom-select-parent",o="_select-active",u="product-tiles-grid",a="product-tiles-grid-item",f="_open",l="_open-filter-category",c=e("select.category-select"),h=e(".category-title-small"),p=e(".filter-category"),d=e(".category-item").find(".filter-close-button"),v=Modernizr.touch;return{load:function(){m(),g(),y(),b()}}});
